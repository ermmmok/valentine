<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>YES üíóüéÜ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    margin: 0;
    background: black;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }

  canvas {
    display: block;
  }

  .overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: hotpink;
    z-index: 2;
    pointer-events: none;
  }

  .overlay h1 {
    font-size: 4rem;
    text-shadow: 0 0 30px hotpink;
  }

  .countdown {
    font-size: 2rem;
    margin-top: 20px;
    color: white;
  }

  .next {
    position: absolute;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    padding: 15px 40px;
    font-size: 1.5rem;
    background: hotpink;
    border: none;
    border-radius: 12px;
    color: white;
    cursor: pointer;
    z-index: 3;
  }
  .page {
    position: absolute;
    inset: 0;
    background: black;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.2s ease;
    z-index: 5;
  }
  .page.active {
    opacity: 1;
    pointer-events: auto;
  }
  .confirm
  {
    font-size: 2rem;
    color: white;
    margin-top: 20px;
    text-shadow: 0 0 15px hotpink;
    font-family: 'Courier New', Courier, monospace;
  }
  .pop {
    font-size: 4rem;
    color: hotpink;
    animation: popIn 1s ease forwards;
    text-shadow: 0 0 30px hotpink;
  }

  .fade {
    font-size: 2rem;
    color: white;
    opacity: 0;
    animation: fadeUp 1s ease forwards;
  }

  .delay1 { animation-delay: 0.6s; }
  .delay2 { animation-delay: 1.2s; }

  @keyframes popIn {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  @keyframes fadeUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  .pink {
    display: inline-block;
    animation: pulse 1.8s infinite ease-in-out;
  }
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
  }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div class="overlay">
  <h1>ü§çYAYYYü§ç</h1>
  <div class="countdown" id="countdown"></div>
</div>

<button class="next" onclick="goFinal()">Next üíï</button>
<audio id="music" src="source/BLUE.mp3" autoplay loop></audio>
<div id="finalPage" class="page">
  <h1 class="pop">
    <span class="pink">üíó</span> 
      Valentine's Date 
    <span class="pink">üíó</span>
  </h1>
  <p class="fade">üìÖ 14th February</p>
  <p class="fade delay1">‚è∞ 2 PM</p>
  <p class="fade delay2">üìç TBC üòâ</p>
</div>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.onresize = () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
};

class Particle {
  constructor(x, y, color, speed, angle, size) {
    this.x = x;
    this.y = y;
    this.color = color;
    this.speed = speed;
    this.angle = angle;
    this.size = size;
    this.opacity = 1;
    this.gravity = 0.05;
    this.friction = 0.98;
  }

  update() {
    this.speed *= this.friction;
    this.x += Math.cos(this.angle) * this.speed;
    this.y += Math.sin(this.angle) * this.speed + this.gravity;
    this.opacity -= 0.015;
  }

  draw() {
    ctx.globalAlpha = this.opacity;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.globalAlpha = 1;
  }
}

class HeartParticle extends Particle {
  draw() {
    ctx.globalAlpha = this.opacity;
    ctx.fillStyle = this.color;
    ctx.beginPath();

    const s = this.size;
    ctx.moveTo(this.x, this.y);
    ctx.bezierCurveTo(this.x - s, this.y - s, this.x - s * 2, this.y + s / 2, this.x, this.y + s * 2);
    ctx.bezierCurveTo(this.x + s * 2, this.y + s / 2, this.x + s, this.y - s, this.x, this.y);

    ctx.fill();
    ctx.globalAlpha = 1;
  }
}

class Firework {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = canvas.height;
    this.targetY = Math.random() * canvas.height * 0.5 + 50;
    this.color = ["#ff4d6d","#ffb3c6","#ffd6e0","#ffffff","#ff66cc","#ff99ff","#9696f5","#86be86"][Math.floor(Math.random()*8)];
    this.exploded = false;
    this.particles = [];
  }

  update() {
    if (!this.exploded) {
      this.y -= 4 + Math.random() ; // rocket speed
      if (this.y <= this.targetY) {
        this.explode();
      }
    } else {
      this.particles.forEach(p => p.update());
      this.particles = this.particles.filter(p => p.opacity > 0);
    }
  }

  explode() {
    this.exploded = true;
    const count = Math.random() * 60 + 80;
    const heartExplosion = Math.random() < 0.4; // 40% hearts üíó

    for (let i = 0; i < count; i++) {
      const angle = Math.random() * Math.PI * 2;
      const speed = Math.random() * 5 + 2;
      const size = Math.random() * 3 + 2;

      if (heartExplosion) {
        this.particles.push(
          new HeartParticle(this.x, this.y, this.color, speed, angle, size + 2)
        );
      } else {
        this.particles.push(
          new Particle(this.x, this.y, this.color, speed, angle, size)
        );
      }
    }
  }


  draw() {
    if (!this.exploded) {
      ctx.beginPath();
      ctx.arc(this.x, this.y, 3, 0, Math.PI*2);
      ctx.fillStyle = this.color;
      ctx.fill();
    } else {
      this.particles.forEach(p => p.draw());
    }
  }

  isDone() {
    return this.exploded && this.particles.length === 0;
  }
}

const fireworks = [];

// AUTO FIREWORKS
setInterval(() => {
  fireworks.push(new Firework());
}, 600);

// CLICK FIREWORKS
canvas.addEventListener("click", e => {
  const fw = new Firework();
  fw.x = e.clientX;
  fw.y = canvas.height;
  fw.targetY = e.clientY;
  fireworks.push(fw);
});

function animate() {
  ctx.fillStyle = "rgba(0,0,0,0.2)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  fireworks.forEach((fw, i) => {
    fw.update();
    fw.draw();
    if (fw.isDone()) fireworks.splice(i, 1);
  });

  requestAnimationFrame(animate);
}

animate();

// COUNTDOWN
const countdownEl = document.getElementById("countdown");
const target = new Date("February 14, 2026 14:00:00").getTime();

setInterval(() => {
  const now = new Date().getTime();
  const diff = target - now;
  const d = Math.floor(diff / (1000*60*60*24));
  const h = Math.floor((diff / (1000*60*60)) % 24);
  const m = Math.floor((diff / (1000*60)) % 60);
  const s = Math.floor((diff / 1000) % 60);
  countdownEl.innerHTML = `${d} days ${h}h ${m}m ${s}s üíï`;
}, 1000);

function goFinal() {
  document.querySelector(".overlay").style.display = "none";
  document.querySelector(".next").style.display = "none";
  document.getElementById("finalPage").classList.add("active");
}

</script>
</body>
</html>
